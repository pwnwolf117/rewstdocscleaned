# OpenAI Integration Setup

## Setup

By leveraging the OpenAI API, Rewst.io can tap into advanced natural language processing (NLP) models and AI capabilities provided by OpenAI. This integration allows Rewst.io to offer intelligent text analysis, generation, and understanding, enabling users to interact with the application in more intuitive and efficient ways.

1. **Log in** to OpenAI.
2. **Navigate** to the API Keys page.
3. **Create** a new secret key for Rewst to use.
4. **Navigate** to the integrations page in Rewst.
5. **Click** on the OpenAI integration.
6. **Copy** the secret key from OpenAI and **paste** it into the API Key field in the Rewst - OpenAI integration form.
7. Optionally, if you belong to multiple organizations, you can **specify** the OpenAI Organization ID to use.

## Actions

### Chat Completions

Given a chat conversation, the model will return a chat completion response.

#### Request[â€‹](http://localhost:3000/docs/integrations/AI/ai-openai-integration#request) <a href="#request" id="request"></a>

POST `/chat/completions`

| Key                | Type       | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ------------------ | ---------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| model\*            | String (?) | ID of the model to use. Currently, only gpt-3.5-turbo and gpt-3.5-turbo-0301 are supported.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| temperature        | String (?) | What sampling temperature to use, between 0 and 2. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic.We generally recommend altering this or top\_p but not both.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| top\_p             | String (?) | An alternative to sampling with temperature, called nucleus sampling, where the model considers the results of the tokens with top\_p probability mass. So 0.1 means only the tokens comprising the top 10% probability mass are considered.We generally recommend altering this or temperature but not both.                                                                                                                                                                                                                                                                                                                                                                                                                    |
| n                  | String (?) | How many chat completion choices to generate for each input message                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| stream             | String (?) | If set, partial message deltas will be sent, like in ChatGPT. Tokens will be sent as data-only server-sent events as they become available, with the stream terminated by a data: \[DONE] message.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| stop               | Array      | Up to 4 sequences where the API will stop generating further tokens. The returned text will not contain the stop sequence.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| max\_tokens        | String (?) | The maximum number of tokens allowed for the generated answer. By default, the number of tokens the model can return will be (4096 - prompt tokens).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| presence\_penalty  | String (?) | Number between -2.0 and 2.0. Positive values penalize new tokens based on whether they appear in the text so far, increasing the model's likelihood to talk about new topics.[See more information about frequency and presence penalties](https://platform.openai.com/docs/api-reference/parameter-details).                                                                                                                                                                                                                                                                                                                                                                                                                    |
| frequency\_penalty | String (?) | Number between -2.0 and 2.0. Positive values penalize new tokens based on their existing frequency in the text so far, increasing the model's likelihood to talk about new topics.[See more information about frequency and presence penalties](https://platform.openai.com/docs/api-reference/parameter-details).                                                                                                                                                                                                                                                                                                                                                                                                               |
| logit\_bias        | String (?) | Modify the likelihood of specified tokens appearing in the completion.Accepts a json object that maps tokens (specified by their token ID in the GPT tokenizer) to an associated bias value from -100 to 100. You can use this tokenizer tool (which works for both GPT-2 and GPT-3) to convert text to token IDs. Mathematically, the bias is added to the logits generated by the model prior to sampling. The exact effect will vary per model, but values between -1 and 1 should decrease or increase likelihood of selection; values like -100 or 100 should result in a ban or exclusive selection of the relevant token.As an example, you can pass {"50256": -100} to prevent the endoftext token from being generated. |
| user               | String (?) | A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. [Learn more](https://platform.openai.com/docs/guides/safety-best-practices/end-user-ids)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

***

#### Objects[â€‹](http://localhost:3000/docs/integrations/AI/ai-openai-integration#objects) <a href="#objects" id="objects"></a>

**Message**[**â€‹**](http://localhost:3000/docs/integrations/AI/ai-openai-integration#message)

| Key       | Type       | Description                                                                                                                                                              |
| --------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| role\*    | String (?) | The role of the message. System messages help set the behavior of the assistant, user messages help instruct the assistant and assistant messages store prior responses. |
| content\* | String (?) | The content of the message                                                                                                                                               |

### Completions

Creates a completion for the provided prompt and parameters

#### Request - Create Completion[â€‹](http://localhost:3000/docs/integrations/AI/ai-openai-integration#request---create-completion) <a href="#request---create-completion" id="request---create-completion"></a>

POST `/completions`

<table><thead><tr><th width="170.33333333333331">Key</th><th width="193">Type</th><th>Description</th></tr></thead><tbody><tr><td>model*</td><td>Openai Model ID</td><td>The ID of the model to use for the request. <a href="https://platform.openai.com/docs/models/overview">Learn more</a></td></tr><tr><td>prompt*</td><td>String (?)</td><td>The prompt(s) to generate completions for, encoded as a string, array of strings, array of tokens, or array of token arrays.</td></tr><tr><td>suffix</td><td>String (?)</td><td>The suffix that comes after a completion of inserted text.</td></tr><tr><td>max_tokens</td><td>String (?)</td><td>The maximum number of tokens to generate in the completion.The token count of your prompt plus max_tokens cannot exceed the model's context length. Most models have a context length of 2048 tokens (except for the newest models, which support 4096).</td></tr><tr><td>temperature</td><td>String (?)</td><td>What sampling temperature to use, between 0 and 2. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic.We generally recommend altering this or top_p but not both.</td></tr><tr><td>top_p</td><td>String (?)</td><td>An alternative to sampling with temperature, called nucleus sampling, where the model considers the results of the tokens with top_p probability mass. So 0.1 means only the tokens comprising the top 10% probability mass are considered.We generally recommend altering this or temperature but not both.</td></tr><tr><td>n</td><td>String (?)</td><td>How many completions to generate for each prompt.Note: Because this parameter generates many completions, it can quickly consume your token quota. Use carefully and ensure that you have reasonable settings for max_tokens and stop.</td></tr><tr><td>stream</td><td>String (?)</td><td>Whether to stream back partial progress. If set, tokens will be sent as data-only server-sent events as they become available.</td></tr><tr><td>logprobs</td><td>String (?)</td><td>Include the log probabilities on the logprobs most likely tokens, as well the chosen tokens. For example, if logprobs is 5, the API will return a list of the 5 most likely tokens. The API will always return the logprob of the sampled token, so there may be up to logprobs+1 elements in the response.The maximum value for logprobs is 5. If you need more than this, please contact OpenAI.</td></tr><tr><td>echo</td><td>String (?)</td><td>Whether to return the prompt in addition to the completion.</td></tr><tr><td>stop</td><td>Array</td><td>Up to 4 sequences where the API will stop generating further tokens. The returned text will not contain the stop sequence.</td></tr><tr><td>presence_penalty</td><td>String (?)</td><td>Number between -2.0 and 2.0. Positive values penalize new tokens based on whether they appear in the text so far, increasing the model's likelihood to talk about new topics.<a href="https://platform.openai.com/docs/api-reference/parameter-details">See more information about frequency and presence penalties</a>.</td></tr><tr><td>frequency_penalty</td><td>String (?)</td><td>Number between -2.0 and 2.0. Positive values penalize new tokens based on their existing frequency in the text so far, increasing the model's likelihood to talk about new topics.<a href="https://platform.openai.com/docs/api-reference/parameter-details">See more information about frequency and presence penalties</a>.</td></tr><tr><td>best_of</td><td>String (?)</td><td><p>Generates best_of completions server-side and returns the "best" (the one with the highest log probability per token). Results cannot be streamed. When used with n, best_of controls the number of candidate completions and n specifies how many to return â€“ best_of must be greater than n. </p><p></p><p>Note: Because this parameter generates many completions, it can quickly consume your token quota. Use carefully and ensure that you have reasonable settings for max_tokens and stop.</p></td></tr><tr><td>logit_bias</td><td>String (?)</td><td>Modify the likelihood of specified tokens appearing in the completion. Accepts a json object that maps tokens (specified by their token ID in the GPT tokenizer) to an associated bias value from -100 to 100. You can use this tokenizer tool (which works for both GPT-2 and GPT-3) to convert text to token IDs. Mathematically, the bias is added to the logits generated by the model prior to sampling. The exact effect will vary per model, but values between -1 and 1 should decrease or increase likelihood of selection; values like -100 or 100 should result in a ban or exclusive selection of the relevant token. As an example, you can pass {"50256": -100} to prevent the endoftext token from being generated.</td></tr><tr><td>user</td><td>String (?)</td><td>A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. <a href="https://platform.openai.com/docs/guides/safety-best-practices/end-user-ids">Learn more</a></td></tr></tbody></table>

### Edits

Creates a new edit for the provided input, instruction, and parameters.

#### Request - Create Edit[â€‹](http://localhost:3000/docs/integrations/AI/ai-openai-integration#request---create-edit) <a href="#request---create-edit" id="request---create-edit"></a>

POST `/edits`

| Key           | Type       | Description                                                                                                                                                                                                                                                                                                   |
| ------------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| model\*       | String (?) | ID of the model to use. You can use the text-davinci-edit-001 or code-davinci-edit-001 model with this endpoint.                                                                                                                                                                                              |
| instruction\* | String (?) | The instruction that tells the model how to edit the prompt                                                                                                                                                                                                                                                   |
| input         | String (?) | The input text to use as a starting point for the edit.                                                                                                                                                                                                                                                       |
| n             | String (?) | How many edits to generate for the input and instruction.                                                                                                                                                                                                                                                     |
| temperature   | String (?) | What sampling temperature to use, between 0 and 2. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic.We generally recommend altering this or top\_p but not both.                                                              |
| top\_p        | String (?) | An alternative to sampling with temperature, called nucleus sampling, where the model considers the results of the tokens with top\_p probability mass. So 0.1 means only the tokens comprising the top 10% probability mass are considered.We generally recommend altering this or temperature but not both. |

### Images

Creates an image given a prompt (Beta).

#### Request - Create Image[â€‹](http://localhost:3000/docs/integrations/AI/ai-openai-integration#request---create-image) <a href="#request---create-image" id="request---create-image"></a>

POST `/images/generations`

| Key              | Type       | Description                                                                                                                                                                                 |
| ---------------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| prompt\*         | String (?) | A text description of the desired image(s). The maximum length is 1000 characters.                                                                                                          |
| n                | String (?) | The number of images to generate. Must be between 1 and 10.                                                                                                                                 |
| size             | String (?) | The size of the generated images.                                                                                                                                                           |
| response\_format | String (?) | The format in which the generated images are returned.                                                                                                                                      |
| user             | String (?) | A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. [Learn more](https://platform.openai.com/docs/guides/safety-best-practices/end-user-ids) |

### Models

Lists the currently available models, and provides basic information about each one such as the owner and availability.

#### Request - List Models[â€‹](http://localhost:3000/docs/integrations/AI/ai-openai-integration#request---list-models) <a href="#request---list-models" id="request---list-models"></a>

GET `/models`

### Get Model[â€‹](http://localhost:3000/docs/integrations/AI/ai-openai-integration#get-model) <a href="#get-model" id="get-model"></a>

Retrieves a model instance, providing basic information about the model such as the owner and permissions.

#### Request - Get Model[â€‹](http://localhost:3000/docs/integrations/AI/ai-openai-integration#request---get-model) <a href="#request---get-model" id="request---get-model"></a>

GET `/models/{model_id}`

| Key         | Type            | Description                                                                                                |
| ----------- | --------------- | ---------------------------------------------------------------------------------------------------------- |
| model\_id\* | Openai Model ID | The ID of the model to use for the request. [Learn more](https://platform.openai.com/docs/models/overview) |

### Moderations

Given an input text, outputs if the model classifies it as violating OpenAI's content policy.

#### Request - Create Moderation[â€‹](http://localhost:3000/docs/integrations/AI/ai-openai-integration#request---create-moderation) <a href="#request---create-moderation" id="request---create-moderation"></a>

POST `/moderations`

| Key     | Type       | Description                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| input\* | String (?) | The input text to classify.                                                                                                                                                                                                                                                                                                                                                                                                                 |
| model   | String (?) | Two content moderation models are available: text-moderation-stable and text-moderation-latest.The default is text-moderation-latest which will be automatically upgraded over time. This ensures you are always using the most accurate model. If you use text-moderation-stable, OpenAI will provide advanced notice before updating the model. Accuracy of text-moderation-stable may be slightly lower than for text-moderation-latest. |
